(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13959bac"],{"52c0":function(t,o,e){},"5b13":function(t,o,e){"use strict";var r=e("52c0"),n=e.n(r);n.a},b09c:function(t,o,e){"use strict";e.r(o);var r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("b-row",[e("b-col",{attrs:{cols:"12",xl:"6"}},[e("b-card",[e("div",{attrs:{slot:"header"},slot:"header"},[e("strong",[t._v("Profiles")])]),e("b-form",{on:{submit:function(o){return o.preventDefault(),t.onSubmit(o)}}},[e("b-card-body",[e("b-row",[e("b-col",{attrs:{sm:"12"}},[e("b-form-group",{attrs:{label:"ชื่อ","label-for":"re_date",horizontal:!0}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.form.fname,callback:function(o){t.$set(t.form,"fname",o)},expression:"form.fname"}})],1)],1)],1),e("b-row",[e("b-col",{attrs:{sm:"12"}},[e("b-form-group",{attrs:{label:"นามสกุล","label-for":"phone",horizontal:!0}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.form.lname,callback:function(o){t.$set(t.form,"lname",o)},expression:"form.lname"}})],1)],1)],1),e("b-row",[e("b-col",{attrs:{sm:"12"}},[e("b-form-group",{attrs:{label:"ตำแหน่ง","label-for":"re_date",horizontal:!0}},[e("v-select",{attrs:{placeholder:"เลือกตำแหน่ง",label:"pos_name",options:t.items_pos},model:{value:t.position,callback:function(o){t.position=o},expression:"position"}})],1)],1)],1),e("b-row",[e("b-col",{attrs:{sm:"12"}},[e("b-form-group",{attrs:{label:"หน่วยงาน","label-for":"phone",horizontal:!0}},[e("b-form-input",{attrs:{type:"text",readonly:!0},model:{value:t.form.dep_name,callback:function(o){t.$set(t.form,"dep_name",o)},expression:"form.dep_name"}})],1)],1)],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("b-button",{attrs:{type:"submit",size:"sm",variant:"primary"}},[e("i",{staticClass:"fa fa-save"}),t._v(" บันทึก\n                  ")]),t._v("  \n              ")],1)],1)],1)],1)],1)},n=[],a=e("bc3a"),s=e.n(a),i={name:"profiles",data:function(){return{userLogin:JSON.parse(window.sessionStorage.getItem("user-login")),items_pos:JSON.parse(window.sessionStorage.getItem("position")),form:{fname:"",lname:"",pos_no:"",dep_name:"",idcard:""},position:null}},computed:{},methods:{onSubmit:function(t){var o=this;null!=this.position?(this.form.pos_no=this.position.pos_no,this.form.idcard=this.userLogin[0].idcard,s.a.post(this.HOST+"/profile",{profile:this.form}).then(function(t){var e=t.data;200==e[0].status?(o.$swal({position:"top-end",type:"success",title:"Your work has been saved.",showConfirmButton:!1,timer:1500}),o.$router.push("/profile/Profiles")):o.$swal({title:"แจ้งเตือน",text:e,type:"Error",timer:2e3})}).catch(function(t){return console.log("Error :",t)})):this.$swal({title:"แจ้งเตือน",text:"กรุณาเลือกตำแหน่งของคุณ !",type:"warning",timer:2e3}),t.preventDefault()},loadData:function(){this.form.fname=this.userLogin[0].fname,this.form.lname=this.userLogin[0].lname,this.form.dep_name=this.userLogin[0].dep_name,this.updateNewdata()},updateNewdata:function(){var t=this,o=this.userLogin[0].idcard;s.a.get(this.HOST+"/profile/"+o).then(function(o){var e=o.data;e.length>0&&(t.position=e[0].pos_name)}).catch(function(t){return console.log("Error",t)})}},mounted:function(){this.loadData()}},l=i,m=(e("5b13"),e("2877")),f=Object(m["a"])(l,r,n,!1,null,"8838cbc2",null);o["default"]=f.exports}}]);
//# sourceMappingURL=chunk-13959bac.80e075df.js.map