(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e281fd3"],{"584a":function(t,e){var n=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=n)},"8b48":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app flex-row align-items-center"},[n("div",{staticClass:"container"},[n("b-row",{staticClass:"justify-content-center"},[n("b-col",{attrs:{md:"8"}},[n("b-card-group",[n("b-card",{staticClass:"p-4",attrs:{"no-body":""}},[n("b-card-body",[n("b-form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[n("img",{attrs:{src:"img/HRD_Banner.jpg",width:"100%",alt:"logo reh"}}),n("p",{staticClass:"text-muted"},[t._v("เข้าสู่ระบบขออนุมัติไปราชการ")]),n("b-input-group",{staticClass:"mb-3"},[n("b-input-group-prepend",[n("b-input-group-text",[n("i",{staticClass:"icon-user"})])],1),n("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"เลขบัตรประชาชน 13 หลัก",autocomplete:"username",required:!0},model:{value:t.form.idcard,callback:function(e){t.$set(t.form,"idcard",e)},expression:"form.idcard"}})],1),n("b-row",[n("b-col",{attrs:{cols:"6"}},[n("b-button",{staticClass:"px-4",attrs:{type:"submit",variant:"primary"}},[t._v("ล็อคอิน")])],1)],1)],1)],1)],1),n("b-card",{staticClass:"text-white bg-primary py-5 d-md-down-none",staticStyle:{width:"44%"},attrs:{"no-body":""}},[n("b-card-body",{staticClass:"text-center"},[n("div",[n("h3",[t._v("ระบบขออนุมัติไปราชการ")]),n("h5",[t._v("โรงพยาบาลร้อยเอ็ด")]),n("h1",[t._v("\n                  Human Resource Development \n                ")])])])],1)],1)],1)],1)],1)])},r=[],s=n("f499"),i=n.n(s),a=n("bc3a"),c=n.n(a),u={name:"Login",data:function(){return{login_user:[],form:{idcard:""}}},methods:{login:function(t){var e=this,n=this.HOST;c.a.post(n+"/login",{auth:this.form}).then(function(t){var n=t.data;if(n.length>0){if(1==n[0].chkLog&&""!=n[0].pos_no){var o=i()(t.data);window.sessionStorage.setItem("user-login",o),e.getDepartment(),e.getEmployee(),e.getPositions(),e.$router.push("/services/register-all")}else if(1==n[0].chkLog&&""==n[0].pos_no){var r=i()(t.data);window.sessionStorage.setItem("user-login",r),e.$router.push("/profile/Profiles"),e.getDepartment(),e.getEmployee(),e.getPositions()}}else e.$swal("เข้าสู่ระบบไม่สำเร็จ","Username or Password Invalid.","error")}).catch(function(t){return console.log("Error :",t)}),t.preventDefault()},getDepartment:function(){c.a.get(this.HOST+"/department").then(function(t){var e=i()(t.data);window.sessionStorage.setItem("department",e)}).catch(function(t){return console.log("Error",t)})},getEmployee:function(){c.a.get(this.HOST+"/rehuser").then(function(t){var e=i()(t.data);window.sessionStorage.setItem("rehuser",e)}).catch(function(t){return console.log("Error",t)})},getPositions:function(){c.a.get(this.HOST+"/position").then(function(t){var e=i()(t.data);window.sessionStorage.setItem("position",e)}).catch(function(t){return console.log("Error",t)})}},mounted:function(){window.sessionStorage.getItem("user-login")&&this.$router.push("/services/register-all")}},l=u,p=n("2877"),d=Object(p["a"])(l,o,r,!1,null,null,null);e["default"]=d.exports},a21f:function(t,e,n){var o=n("584a"),r=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},f499:function(t,e,n){t.exports=n("a21f")}}]);
//# sourceMappingURL=chunk-0e281fd3.92f127c2.js.map