{"version":3,"sources":["webpack:///./src/views/profile/Profiles.vue?9db8","webpack:///./src/views/profile/Profiles.vue?086f","webpack:///src/views/profile/Profiles.vue","webpack:///./src/views/profile/Profiles.vue?bc0c","webpack:///./src/views/profile/Profiles.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Profiles_vue_vue_type_style_index_0_id_8838cbc2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Profiles_vue_vue_type_style_index_0_id_8838cbc2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","cols","xl","slot","_v","on","submit","$event","preventDefault","onSubmit","sm","label","label-for","horizontal","type","model","value","form","callback","$$v","$set","expression","placeholder","options","items_pos","position","readonly","size","variant","staticClass","staticRenderFns","Profilesvue_type_script_lang_js_","name","data","userLogin","JSON","parse","window","sessionStorage","getItem","fname","lname","pos_no","dep_name","idcard","computed","methods","evt","_this","axios_default","a","post","HOST","profile","then","res","status","$swal","title","showConfirmButton","timer","$router","push","text","catch","error","console","log","loadData","updateNewdata","_this2","get","length","pos_name","mounted","profile_Profilesvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-13959bac.80e075df.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profiles.vue?vue&type=style&index=0&id=8838cbc2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profiles.vue?vue&type=style&index=0&id=8838cbc2&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\",\"xl\":\"6\"}},[_c('b-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('strong',[_vm._v(\"Profiles\")])]),_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('b-card-body',[_c('b-row',[_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('b-form-group',{attrs:{\"label\":\"ชื่อ\",\"label-for\":\"re_date\",\"horizontal\":true}},[_c('b-form-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.form.fname),callback:function ($$v) {_vm.$set(_vm.form, \"fname\", $$v)},expression:\"form.fname\"}})],1)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('b-form-group',{attrs:{\"label\":\"นามสกุล\",\"label-for\":\"phone\",\"horizontal\":true}},[_c('b-form-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.form.lname),callback:function ($$v) {_vm.$set(_vm.form, \"lname\", $$v)},expression:\"form.lname\"}})],1)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('b-form-group',{attrs:{\"label\":\"ตำแหน่ง\",\"label-for\":\"re_date\",\"horizontal\":true}},[_c('v-select',{attrs:{\"placeholder\":\"เลือกตำแหน่ง\",\"label\":\"pos_name\",\"options\":_vm.items_pos},model:{value:(_vm.position),callback:function ($$v) {_vm.position=$$v},expression:\"position\"}})],1)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('b-form-group',{attrs:{\"label\":\"หน่วยงาน\",\"label-for\":\"phone\",\"horizontal\":true}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"readonly\":true},model:{value:(_vm.form.dep_name),callback:function ($$v) {_vm.$set(_vm.form, \"dep_name\", $$v)},expression:\"form.dep_name\"}})],1)],1)],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"primary\"}},[_c('i',{staticClass:\"fa fa-save\"}),_vm._v(\" บันทึก\\n                  \")]),_vm._v(\"  \\n              \")],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-row>\r\n    <b-col cols=\"12\" xl=\"6\">\r\n        <b-card>\r\n            <div slot=\"header\">\r\n              <strong>Profiles</strong>\r\n            </div>\r\n            <b-form @submit.prevent=\"onSubmit\">\r\n                <b-card-body>\r\n                    <b-row>\r\n                        <b-col sm=\"12\">\r\n                          <b-form-group\r\n                            label=\"ชื่อ\"\r\n                            label-for=\"re_date\"\r\n                            :horizontal=\"true\"\r\n                          >\r\n                            <b-form-input\r\n                              type=\"text\"\r\n                              v-model=\"form.fname\"\r\n                            ></b-form-input>\r\n                          </b-form-group>\r\n                        </b-col>\r\n                    </b-row>\r\n                    <b-row>\r\n                        <b-col sm=\"12\">\r\n                          <b-form-group\r\n                            label=\"นามสกุล\"\r\n                            label-for=\"phone\"\r\n                            :horizontal=\"true\"\r\n                          >\r\n                            <b-form-input\r\n                              type=\"text\"\r\n                              v-model=\"form.lname\"\r\n                            ></b-form-input>\r\n                          </b-form-group>\r\n                          <!-- required -->\r\n                        </b-col>\r\n                    </b-row>\r\n                    <b-row>\r\n                      <b-col sm=\"12\">\r\n                        <b-form-group\r\n                          label=\"ตำแหน่ง\"\r\n                          label-for=\"re_date\"\r\n                          :horizontal=\"true\"\r\n                        >\r\n                        <v-select v-model=\"position\" placeholder=\"เลือกตำแหน่ง\" label=\"pos_name\" :options=\"items_pos\"></v-select>\r\n                        </b-form-group>\r\n                      </b-col>\r\n                    </b-row>\r\n                    <b-row>\r\n                      <b-col sm=\"12\">\r\n                        <b-form-group\r\n                          label=\"หน่วยงาน\"\r\n                          label-for=\"phone\"\r\n                          :horizontal=\"true\"\r\n                        >\r\n                          <b-form-input\r\n                            type=\"text\"\r\n                            :readonly=\"true\"\r\n                            v-model=\"form.dep_name\"\r\n                          ></b-form-input>\r\n                        </b-form-group>\r\n                        <!-- required -->\r\n                      </b-col>\r\n                    </b-row>\r\n                </b-card-body>\r\n                <div slot=\"footer\">\r\n                    <b-button type=\"submit\" size=\"sm\" variant=\"primary\">\r\n                        <i class=\"fa fa-save\"></i> บันทึก\r\n                    </b-button>&nbsp;&nbsp;\r\n                </div>\r\n            </b-form>\r\n        </b-card>\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"profiles\",\r\n  data() {\r\n    return {\r\n      userLogin: JSON.parse(window.sessionStorage.getItem('user-login')),\r\n      items_pos:JSON.parse(window.sessionStorage.getItem('position')),\r\n      form:{\r\n          fname: \"\",\r\n          lname: \"\",\r\n          pos_no: \"\",\r\n          dep_name: \"\",\r\n          idcard: \"\",\r\n      },\r\n      position: null,\r\n    }\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    onSubmit(evt){\r\n        if(this.position != null){\r\n            this.form.pos_no = this.position.pos_no\r\n            this.form.idcard = this.userLogin[0].idcard\r\n            axios\r\n                .post(this.HOST+\"/profile\",{\r\n                    profile: this.form,\r\n                })\r\n                .then(res => {\r\n                  let data = res.data\r\n                  //console.log(data);\r\n                  if(data[0].status == 200){\r\n                    this.$swal({\r\n                      position: 'top-end',\r\n                      type: 'success',\r\n                      title: 'Your work has been saved.',\r\n                      showConfirmButton: false,\r\n                      timer: 1500\r\n                    })\r\n                    this.$router.push('/profile/Profiles');\r\n                  }else{\r\n                        this.$swal({\r\n                            title: 'แจ้งเตือน', \r\n                            text: data, \r\n                            type: 'Error',\r\n                            timer: 2000\r\n                        }) \r\n                  }\r\n                }) \r\n                .catch(error => console.log(\"Error :\", error));\r\n        }else{\r\n            this.$swal({\r\n                title: 'แจ้งเตือน', \r\n                text: 'กรุณาเลือกตำแหน่งของคุณ !', \r\n                type: 'warning',\r\n                timer: 2000\r\n            }) \r\n        }\r\n        evt.preventDefault();\r\n    },\r\n    loadData(){\r\n        this.form.fname = this.userLogin[0].fname\r\n        this.form.lname = this.userLogin[0].lname\r\n        this.form.dep_name = this.userLogin[0].dep_name\r\n        this.updateNewdata()\r\n    },\r\n    updateNewdata(){\r\n        let idcard = this.userLogin[0].idcard\r\n        axios\r\n        .get(this.HOST+\"/profile/\"+idcard)\r\n        .then(res => {\r\n            let data = res.data\r\n            if(data.length > 0){\r\n                this.position = data[0].pos_name\r\n            }\r\n        })\r\n        .catch(error => console.log(\"Error\", error));\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadData();\r\n  }\r\n};\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.card-body >>> table > tbody > tr > td {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profiles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profiles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profiles.vue?vue&type=template&id=8838cbc2&scoped=true&\"\nimport script from \"./Profiles.vue?vue&type=script&lang=js&\"\nexport * from \"./Profiles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Profiles.vue?vue&type=style&index=0&id=8838cbc2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8838cbc2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}