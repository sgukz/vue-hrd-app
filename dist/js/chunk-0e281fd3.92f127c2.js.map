{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/_core.js","webpack:///./src/views/pages/Login.vue?c2d2","webpack:///src/views/pages/Login.vue","webpack:///./src/views/pages/Login.vue?92b0","webpack:///./src/views/pages/Login.vue","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/json/stringify.js"],"names":["core","module","exports","version","__e","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","md","no-body","on","submit","$event","preventDefault","login","src","width","alt","_v","type","placeholder","autocomplete","required","model","value","form","callback","$$v","$set","expression","cols","variant","staticStyle","staticRenderFns","Loginvue_type_script_lang_js_","name","data","login_user","idcard","methods","evt","_this","url","HOST","axios_default","a","post","auth","then","res","resp","length","chkLog","pos_no","parsed","stringify_default","window","sessionStorage","setItem","getDepartment","getEmployee","getPositions","$router","push","_parsed","$swal","catch","error","console","log","get","mounted","getItem","pages_Loginvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","__webpack_require__","$JSON","JSON","stringify","it","apply","arguments"],"mappings":"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","file":"js/chunk-0e281fd3.92f127c2.js","sourcesContent":["var core = module.exports = { version: '2.6.3' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app flex-row align-items-center\"},[_c('div',{staticClass:\"container\"},[_c('b-row',{staticClass:\"justify-content-center\"},[_c('b-col',{attrs:{\"md\":\"8\"}},[_c('b-card-group',[_c('b-card',{staticClass:\"p-4\",attrs:{\"no-body\":\"\"}},[_c('b-card-body',[_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.login($event)}}},[_c('img',{attrs:{\"src\":\"img/HRD_Banner.jpg\",\"width\":\"100%\",\"alt\":\"logo reh\"}}),_c('p',{staticClass:\"text-muted\"},[_vm._v(\"เข้าสู่ระบบขออนุมัติไปราชการ\")]),_c('b-input-group',{staticClass:\"mb-3\"},[_c('b-input-group-prepend',[_c('b-input-group-text',[_c('i',{staticClass:\"icon-user\"})])],1),_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"เลขบัตรประชาชน 13 หลัก\",\"autocomplete\":\"username\",\"required\":true},model:{value:(_vm.form.idcard),callback:function ($$v) {_vm.$set(_vm.form, \"idcard\", $$v)},expression:\"form.idcard\"}})],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('b-button',{staticClass:\"px-4\",attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"ล็อคอิน\")])],1)],1)],1)],1)],1),_c('b-card',{staticClass:\"text-white bg-primary py-5 d-md-down-none\",staticStyle:{\"width\":\"44%\"},attrs:{\"no-body\":\"\"}},[_c('b-card-body',{staticClass:\"text-center\"},[_c('div',[_c('h3',[_vm._v(\"ระบบขออนุมัติไปราชการ\")]),_c('h5',[_vm._v(\"โรงพยาบาลร้อยเอ็ด\")]),_c('h1',[_vm._v(\"\\n                  Human Resource Development \\n                \")])])])],1)],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app flex-row align-items-center\">\n    <div class=\"container\">\n      <b-row class=\"justify-content-center\">\n        <b-col md=\"8\">\n          <b-card-group>\n            <b-card no-body class=\"p-4\">\n              <b-card-body>\n                <b-form @submit.prevent=\"login\">\n                  <img src=\"img/HRD_Banner.jpg\" width=\"100%\" alt=\"logo reh\">\n                  <p class=\"text-muted\">เข้าสู่ระบบขออนุมัติไปราชการ</p>\n                  <b-input-group class=\"mb-3\">\n                    <b-input-group-prepend><b-input-group-text><i class=\"icon-user\"></i></b-input-group-text></b-input-group-prepend>\n                    <b-form-input type=\"text\" class=\"form-control\" placeholder=\"เลขบัตรประชาชน 13 หลัก\" autocomplete=\"username\" :required=\"true\" v-model=\"form.idcard\"/>\n                  </b-input-group>\n                  <!-- <b-input-group class=\"mb-4\">\n                    <b-input-group-prepend><b-input-group-text><i class=\"icon-lock\"></i></b-input-group-text></b-input-group-prepend>\n                    <b-form-input type=\"password\" class=\"form-control\" placeholder=\"รหัสผ่าน\" autocomplete=\"current-password\" :required=\"true\" v-model=\"form.password\" />\n                  </b-input-group> -->\n                  <b-row>\n                    <b-col cols=\"6\">\n                      <b-button type=\"submit\" variant=\"primary\" class=\"px-4\" >ล็อคอิน</b-button>\n                    </b-col>\n                  </b-row>\n                </b-form>\n              </b-card-body>\n            </b-card>\n            <b-card no-body class=\"text-white bg-primary py-5 d-md-down-none\" style=\"width:44%\">\n              <b-card-body class=\"text-center\">\n                <div>\n                  <h3>ระบบขออนุมัติไปราชการ</h3>\n                  <h5>โรงพยาบาลร้อยเอ็ด</h5>\n                  <h1>\n                    Human Resource Development \n                  </h1>\n                </div>\n              </b-card-body>\n            </b-card>\n          </b-card-group>\n        </b-col>\n      </b-row>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: 'Login',\n  data(){\n    return {\n      login_user:[],\n      form: {\n        idcard: '',\n      }\n    }\n  },\n  methods: {\n    login(evt) {\n      let url = this.HOST\n      axios\n      .post(url+\"/login\",{\n          auth: this.form\n      })\n      .then(res => { \n        let resp = res.data\n        if(resp.length > 0){\n          if(resp[0].chkLog == 1 && resp[0].pos_no != \"\"){\n            let parsed = JSON.stringify(res.data);\n            window.sessionStorage.setItem('user-login', parsed);\n            this.getDepartment();\n            this.getEmployee();\n            this.getPositions();\n            this.$router.push('/services/register-all');               \n          }else if(resp[0].chkLog == 1 && resp[0].pos_no == \"\"){\n            let parsed = JSON.stringify(res.data);\n            window.sessionStorage.setItem('user-login', parsed);\n            this.$router.push('/profile/Profiles');\n            this.getDepartment();\n            this.getEmployee();\n            this.getPositions();                \n          }\n        }else{\n          this.$swal('เข้าสู่ระบบไม่สำเร็จ', 'Username or Password Invalid.', 'error')               \n        }\n      }) \n      .catch(error => console.log(\"Error :\", error));\n      evt.preventDefault();\n    },\n    getDepartment(){\n      axios\n        .get(this.HOST+\"/department\")\n        .then(res => {\n          let parsed = JSON.stringify(res.data);\n          window.sessionStorage.setItem('department', parsed);\n        })\n        .catch(error => console.log(\"Error\", error));\n    },\n    getEmployee(){\n      axios\n        .get(this.HOST+\"/rehuser\")\n        .then(res => {\n          let parsed = JSON.stringify(res.data);\n          window.sessionStorage.setItem('rehuser', parsed);\n        })\n        .catch(error => console.log(\"Error\", error));\n    },\n    getPositions(){\n      axios\n        .get(this.HOST+\"/position\")\n        .then(res => {\n          let parsed = JSON.stringify(res.data);\n          window.sessionStorage.setItem('position', parsed);\n        })\n        .catch(error => console.log(\"Error\", error));\n    }\n  },\n  mounted() {\n    if (window.sessionStorage.getItem('user-login')){\n      this.$router.push('/services/register-all')\n    } \n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=bc7f9f94&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","module.exports = require(\"core-js/library/fn/json/stringify\");"],"sourceRoot":""}